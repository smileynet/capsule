# Test Specification: Implement completed task expansion in campaign view

## Bead: cap-fj8.3.2

## Tracer
View layer — proves progressive disclosure works for completed tasks.

## Context
- Extend campaignState with selectedIdx cursor
- Expand completed task phases when cursor is on it
- Delegate right pane to stored phase reports

## Test Cases

| Input | Expected Output | Notes |
|-------|-----------------|-------|
| Cursor on completed task | Task expands to show phase list | Progressive disclosure |
| Cursor moves away | Previously expanded task collapses | Auto-collapse |
| Cursor on running task | Shows live phases (existing behavior) | No change |
| Cursor on pending task | Single line, no expansion | No expansion |
| ViewReport() with cursor on completed task | Shows phase reports for that task | Right pane |
| Up/down keys in campaign | selectedIdx changes, not currentIdx | Cursor independence |
| Only one task expanded | Move cursor: old collapses, new expands | Mutual exclusion |

## Edge Cases
- [ ] Completed task with no stored phase reports (show "No data")
- [ ] Cursor on completed task during campaign abort
- [ ] All tasks completed — cursor can navigate all of them

## Implementation Notes
- selectedIdx (cursor for user navigation) separate from currentIdx (running task)
- In View(): if task[selectedIdx].Status == completed → expand stored phases below
- ViewReport() checks: is selected task completed? → return formatReport from stored data
- Phase rendering reuses pipeIndicator, pipePhaseName from pipeline.go
