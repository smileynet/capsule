# TDD Spec: Implement Display interface and TTY detection

**Task:** t-3.2.1
**Feature:** Dual-mode display
**Epic:** Epic 3 - TUI Dashboard

## Context

Define the Display interface that abstracts rendering mode, implement isTTY() detection to determine if stdout is a terminal, and NewDisplay(opts) factory that returns either a TUI display (Bubble Tea) or plain text display based on TTY detection and options. StatusCallback bridge converts orchestrator status updates into display messages.

## Test Cases

| # | Input / Setup | Expected Output | Notes |
|---|--------------|-----------------|-------|
| 1 | NewDisplay with mock TTY=true | Returns TUI display implementation | TTY detection routes to TUI |
| 2 | NewDisplay with mock TTY=false | Returns plain text display implementation | Non-TTY routes to plain text |
| 3 | NewDisplay with explicit --no-tui option | Returns plain text display regardless of TTY | Flag override |
| 4 | StatusCallback bridge converts StatusUpdate to display message | Display receives correctly typed message | Bridge translation |
| 5 | Plain text display renders StatusUpdate | Prints phase and status to writer | Non-TUI output |
| 6 | Both display implementations satisfy Display interface | Compile-time interface check | Type safety |

## Edge Cases

- [ ] isTTY when stdout is redirected to a file -- returns false
- [ ] isTTY when stdout is piped to another process -- returns false
- [ ] Display interface includes Start, Stop, and HandleUpdate methods
- [ ] Plain text display handles rapid updates without flooding output

## Deliverable

Display interface
