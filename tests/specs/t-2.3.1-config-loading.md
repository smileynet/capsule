# TDD Spec: Implement Config struct and layered loading

**Task:** t-2.3.1
**Feature:** Configuration and prompt management
**Epic:** Epic 2 - Go CLI Tool

## Context

Implement the Config struct and layered loading: Load(path) reads a YAML config file, DefaultConfig() provides sensible defaults, and environment variables override file values. Priority order: defaults < user config < project config < environment variables.

## Test Cases

| # | Input / Setup | Expected Output | Notes |
|---|--------------|-----------------|-------|
| 1 | Load valid YAML config file | Config struct populated with file values | Basic file loading |
| 2 | Load with no config file present | DefaultConfig values used | Graceful fallback to defaults |
| 3 | Set CAPSULE_MAX_RETRIES env var, load config | Env var value overrides file and default | Env override precedence |
| 4 | Load invalid YAML file | Error returned with descriptive message | Parse error handling |
| 5 | Load config with partial values | Missing fields filled from defaults | Merge behavior |
| 6 | Verify DefaultConfig has sensible values | max_retries > 0, provider is set, etc. | Defaults are usable out of the box |

## Edge Cases

- [ ] Config file path does not exist -- returns defaults, not error (unless explicitly specified)
- [ ] Environment variable is empty string vs unset -- empty string should not override
- [ ] Nested config values (e.g., provider.timeout) can be overridden by env vars
- [ ] YAML with unknown fields does not cause error (forward compatibility)

## Deliverable

Config loading
