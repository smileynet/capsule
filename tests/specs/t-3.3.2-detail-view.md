# TDD Spec: Implement detail view toggle

**Task:** t-3.3.2
**Feature:** Interactive controls
**Epic:** Epic 3 - TUI Dashboard

## Context

Implement a detail view toggled by the d key: shows phase output (stdout from the current or selected phase), worklog tail (last N lines), and uses bubbles/viewport for scrollable content. Toggle switches between summary view and detail view.

## Test Cases

| # | Input / Setup | Expected Output | Notes |
|---|--------------|-----------------|-------|
| 1 | Send d key in summary view | Model transitions to detail view | Toggle on |
| 2 | Send d key in detail view | Model transitions back to summary view | Toggle off |
| 3 | Detail view shows current phase output | Viewport contains phase stdout content | Content display |
| 4 | Detail view shows worklog tail | Last N lines of worklog visible | Worklog visibility |
| 5 | Viewport scrollable with arrow keys | Content scrolls up/down | Scroll interaction |
| 6 | Detail view updates when new phase output arrives | Viewport content refreshes with new data | Live updates |

## Edge Cases

- [ ] Toggle detail view when no phase has run yet -- shows empty or placeholder content
- [ ] Very large phase output -- viewport handles without performance issues
- [ ] Phase output contains ANSI escape codes -- rendered or stripped appropriately
- [ ] Window resize while in detail view -- viewport adjusts dimensions

## Deliverable

Detail view toggle
