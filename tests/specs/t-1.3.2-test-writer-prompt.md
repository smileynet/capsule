# TDD Spec: Create test-writer prompt template

**Task:** t-1.3.2
**Feature:** Test-writer and test-review prompt pair
**Epic:** Epic 1 - Shell-based Pipeline Prototype

## Context

Create prompts/test-writer.md: instructs Claude to read the worklog, write failing tests that cover the acceptance criteria for the current task, update the worklog with phase results, and output the structured JSON signal. The tests must fail (RED phase of TDD) since no implementation exists yet.

## Test Cases

| # | Input / Setup | Expected Output | Notes |
|---|--------------|-----------------|-------|
| 1 | Check prompt file exists at prompts/test-writer.md | File exists and is non-empty | Basic existence check |
| 2 | Verify prompt instructs reading the worklog | Contains instruction to read worklog.md | Worklog is the context source |
| 3 | Verify prompt instructs writing failing tests | Contains instruction about RED/failing tests | TDD discipline: tests must fail first |
| 4 | Verify prompt instructs worklog update | Contains instruction to append phase entry to worklog | Maintains audit trail |
| 5 | Verify prompt instructs JSON signal output | Contains signal contract format with status field | Enables machine-readable phase result |
| 6 | Verify prompt references acceptance criteria | Contains instruction to derive tests from acceptance criteria | Tests must trace to requirements |

## Edge Cases

- [ ] Prompt does not assume a specific test framework (or explicitly states which one to use)
- [ ] Prompt handles the case where test files already exist (e.g., from a retry)
- [ ] Prompt instructs Claude not to write implementation code
- [ ] Prompt specifies where test files should be created relative to the worktree

## Deliverable

prompts/test-writer.md
