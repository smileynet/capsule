# Test Specification: Implement campaignState with inline phase nesting

## Bead: cap-fj8.1.2

## Tracer
View layer — proves the campaign UI renders correctly.

## Context
- New file internal/dashboard/campaign.go
- campaignState embeds pipelineState for running task
- Reuses styles from pipeline.go

## Test Cases

| Input | Expected Output | Notes |
|-------|-----------------|-------|
| newCampaignState(parentID, title, tasks) | State with all tasks pending | Constructor works |
| Update(CampaignStartMsg) | Campaign initialized, running=true | Start signal |
| Update(CampaignTaskStartMsg{ID, Phases}) | Task marked running, pipelineState reset | Task transition |
| Update(CampaignTaskDoneMsg{ID, Success}) | Task marked passed, counters updated | Task completion |
| Update(CampaignTaskDoneMsg{ID, Success: false}) | Task marked failed, failed counter++ | Task failure |
| Update(PhaseUpdateMsg) | Delegated to embedded pipelineState | Phase forwarding |
| View() with 1 running, 1 pending | Running task shows phases, pending shows line | Inline nesting |
| View() with 1 completed, 1 running | Completed is single line with ✓ and duration | Collapse |
| ViewReport() | Delegates to pipelineState.ViewReport() | Report passthrough |

## Edge Cases
- [ ] Empty task list (no children discovered)
- [ ] All tasks fail (campaign still shows summary)
- [ ] CampaignTaskStartMsg for unknown task ID
- [ ] PhaseUpdateMsg before any CampaignTaskStartMsg

## Implementation Notes
- Header line shows parentID + parentTitle
- Running task: indented phase list (reuse pipelineState.View)
- Completed task: single line "✓ task-title (2.3s)" or "✗ task-title (1.5s)"
- Pending task: "○ task-title"
