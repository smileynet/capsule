# TDD Spec: Document all commands and specification for Epic 2

**Task:** t-1.6.3
**Feature:** Full pipeline orchestration
**Epic:** Epic 1 - Shell-based Pipeline Prototype

## Context

Create docs/commands.md documenting all scripts, claude invocations, signal contract, retry rules, worklog lifecycle, worktree lifecycle, and directory structure. This document serves as the specification for the Go rewrite in Epic 2.

## Test Cases

| # | Input / Setup | Expected Output | Notes |
|---|--------------|-----------------|-------|
| 1 | Verify docs/commands.md exists | File exists and is non-empty | Basic existence |
| 2 | Verify all scripts are documented | Each script from scripts/ has a corresponding section | Complete coverage |
| 3 | Verify signal contract documented | JSON schema with status, feedback, files_changed, summary | Contract must match implementation |
| 4 | Verify retry rules documented | Max retries, feedback injection, abort conditions | Orchestration behavior spec |
| 5 | Verify directory structure documented | Template, worktree, archive, log paths described | Filesystem layout |
| 6 | Cross-reference documented commands with actual script files | Every documented command corresponds to an existing script | No phantom documentation |

## Edge Cases

- [ ] Documentation includes exit code semantics for each script
- [ ] Documentation covers error handling and recovery procedures
- [ ] Documentation specifies environment variables and their defaults
- [ ] Documentation is structured to support Epic 2 Go port (clear interface boundaries)

## Deliverable

docs/commands.md
