# Test Specification: Terminal resize, abort, force quit, and focus interactions

## Context
- Terminal resize (WindowSizeMsg) recalculates pane widths dynamically
- Minimum left pane width of 28 columns enforced
- Abort (Ctrl+C) during pipeline cancels the pipeline context and returns to browse mode
- Double Ctrl+C force quits the entire application
- Focus state determines which pane receives directional key input
- Global keys (q, Tab, Ctrl+C) work regardless of current focus
- Deliverable: resize handling, abort flow, force quit, focus-aware key routing

## Test Cases

| Input | Expected Output | Notes |
|-------|-----------------|-------|
| WindowSizeMsg(100, 50) | Left=33, Right=65, gap=2 recalculated | Resize recalculation |
| WindowSizeMsg(30, 50) | Left=28 (minimum enforced) | Minimum left pane |
| Ctrl+C during pipeline | Pipeline context cancelled | Abort cancellation |
| Ctrl+C during pipeline | Mode transitions to browse (not summary) | Abort destination |
| Ctrl+C then Ctrl+C quickly | tea.Quit returned (force quit) | Double Ctrl+C |
| Left pane focused, Down key | List cursor moves down | Focus-aware routing |
| Right pane focused, Down key | Viewport scrolls down | Focus-aware routing |
| Left pane focused, "q" key | Quit triggered (global) | Global key in left focus |
| Right pane focused, Tab key | Focus switches to left | Global key in right focus |

## Edge Cases
- [ ] Resize during active pipeline: layout updates without disrupting event flow
- [ ] Resize to very small terminal (e.g., 20x10): no panic, graceful degradation
- [ ] Abort with no running pipeline: no-op, stays in browse mode
- [ ] Focus state preserved across mode transitions where appropriate
- [ ] Force quit during summary mode works immediately
- [ ] WindowSizeMsg with unchanged dimensions: no unnecessary re-render
