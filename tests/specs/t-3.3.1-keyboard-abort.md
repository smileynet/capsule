# TDD Spec: Implement abort via keyboard

**Task:** t-3.3.1
**Feature:** Interactive controls
**Epic:** Epic 3 - TUI Dashboard

## Context

Implement keyboard abort handling in the Bubble Tea model: q key and Ctrl+C trigger context cancellation, model transitions to Aborting status while waiting for the current phase to finish, and double-press forces immediate exit.

## Test Cases

| # | Input / Setup | Expected Output | Notes |
|---|--------------|-----------------|-------|
| 1 | Send q key message to model | Model triggers cancel, enters Aborting state | Graceful abort |
| 2 | Send Ctrl+C key message to model | Model triggers cancel, enters Aborting state | Standard interrupt |
| 3 | Send q key while in Aborting state (double-press) | Model returns tea.Quit command | Force exit |
| 4 | Verify context cancellation propagates | Orchestrator receives context.Canceled | Cancel chain |
| 5 | View in Aborting state | Shows "Aborting..." message | User feedback |
| 6 | Non-abort keys during Running state | No state change, key ignored | Key filtering |

## Edge Cases

- [ ] Abort during the merge phase -- special handling needed (merge is non-idempotent)
- [ ] Abort when pipeline is already completing -- race between completion and abort
- [ ] Key events while in Completed or Error state -- ignored
- [ ] Force exit cleans up resources (no zombie subprocesses)

## Deliverable

Keyboard abort
