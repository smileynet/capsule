# Test Specification: Carry phase reports in campaign task completion messages

## Bead: cap-fj8.3.1

## Tracer
Data flow — proves phase results survive the callback bridge.

## Context
- Extend CampaignTaskDoneMsg with PhaseReports field
- Store phase reports per task in campaignState
- Bridge campaign.TaskResult.PhaseResults → dashboard.PhaseReport in CLI adapter

## Test Cases

| Input | Expected Output | Notes |
|-------|-----------------|-------|
| CampaignTaskDoneMsg with 3 PhaseReports | Reports stored in campaignState | Storage works |
| CampaignTaskDoneMsg with empty PhaseReports | Empty slice stored (no panic) | Safe empty |
| campaignState.taskReports[taskID] | Returns stored PhaseReports | Retrieval works |
| campaign.TaskResult with PhaseResults | Mapped to []dashboard.PhaseReport | Bridge mapping |
| PhaseReport fields: name, status, summary, feedback, files, duration | All fields mapped | Complete mapping |

## Edge Cases
- [ ] CampaignTaskDoneMsg for unknown task ID (ignore gracefully)
- [ ] PhaseReport with empty Summary and Feedback
- [ ] Multiple tasks completing — each stores independently

## Implementation Notes
- campaignState needs: taskReports map[string][]PhaseReport
- On CampaignTaskDoneMsg: store msg.PhaseReports in taskReports[msg.TaskID]
- CLI adapter maps campaign.PhaseResult → dashboard.PhaseReport (field-by-field)
