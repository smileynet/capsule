# TDD Spec: Implement ClaudeProvider with subprocess execution

**Task:** t-2.2.2
**Feature:** Provider interface
**Epic:** Epic 2 - Go CLI Tool

## Context

Implement ClaudeProvider that invokes `claude -p` as a subprocess using exec.CommandContext. Captures stdout and stderr, parses the signal from output, and supports the re-exec testing pattern (test binary re-executes itself as a mock claude process).

## Test Cases

| # | Input / Setup | Expected Output | Notes |
|---|--------------|-----------------|-------|
| 1 | Re-exec mock returning PASS signal | Result with StatusPass, parsed signal | Happy path via re-exec |
| 2 | Re-exec mock returning NEEDS_WORK with feedback | Result with StatusNeedsWork, feedback accessible | Retry case |
| 3 | Re-exec mock that times out (context deadline) | Context deadline exceeded error | Timeout handling |
| 4 | Re-exec mock returning no signal in output | ErrNoSignal wrapped in result error | Graceful degradation |
| 5 | Re-exec mock returning non-zero exit code | Error result with stderr captured | Process failure handling |
| 6 | Verify prompt is passed via stdin or -p flag | Mock receives the full prompt text | Prompt delivery mechanism |

## Edge Cases

- [ ] Claude binary not found in PATH -- clear error message
- [ ] Very large stdout output (>10MB) -- does not OOM
- [ ] Stderr output captured alongside stdout for debugging
- [ ] Context cancellation mid-execution kills the subprocess

## Deliverable

ClaudeProvider with re-exec tests
