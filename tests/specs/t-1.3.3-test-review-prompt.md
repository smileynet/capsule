# TDD Spec: Create test-review prompt template

**Task:** t-1.3.3
**Feature:** Test-writer and test-review prompt pair
**Epic:** Epic 1 - Shell-based Pipeline Prototype

## Context

Create prompts/test-review.md: instructs Claude to read the worklog, verify that tests exist and cover acceptance criteria, assess test quality (isolation, naming, assertions), return PASS or NEEDS_WORK with feedback, update the worklog, and output the JSON signal.

## Test Cases

| # | Input / Setup | Expected Output | Notes |
|---|--------------|-----------------|-------|
| 1 | Check prompt file exists at prompts/test-review.md | File exists and is non-empty | Basic existence check |
| 2 | Verify prompt contains quality checklist | References test isolation, naming, assertions, coverage | Quality gate criteria |
| 3 | Verify prompt instructs PASS/NEEDS_WORK decision | Contains both status values and decision criteria | Binary outcome for retry logic |
| 4 | Verify prompt instructs feedback on NEEDS_WORK | Contains instruction to provide actionable feedback | Feedback drives test-writer retry |
| 5 | Verify prompt instructs signal output | Contains JSON signal contract | Machine-readable result |
| 6 | Verify prompt instructs worklog update | Contains instruction to record review findings | Audit trail of review decisions |

## Edge Cases

- [ ] Prompt handles case where no test files were created by test-writer (should NEEDS_WORK)
- [ ] Prompt distinguishes between test quality issues and missing test coverage
- [ ] Prompt does not instruct the reviewer to fix tests (reviewer only reviews)
- [ ] Prompt handles multiple test files across different directories

## Deliverable

prompts/test-review.md
